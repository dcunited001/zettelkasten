:PROPERTIES:
:ID:       b0c6ca24-db6b-44d9-aede-19f0307982da
:END:
#+TITLE: ML: Nature LM Audio
#+DESCRIPTION:

* Roam
+ [[id:fbf026c8-6c89-4ad3-a72e-2d693371c76a][Machine Learning]]
+ [[id:a9e6c35c-c858-4374-9f4a-d5c294e48827][Audio]]
+ [[id:b4aec5d0-2ee8-40c3-b1cf-937737d465e6][Pipewire]]

* Tasks

** TODO Look into Nature-LM Audio

Basically, how complicated 2 create a chain with samplers & reverb using
pipewire/wireplumber -- i need copyright-free sounds lol

*** Nature LM Audio

+ [[https://github.com/earthspecies/NatureLM-audio][earthspecies/NatureLM-audio]], [[https://arxiv.org/abs/2411.07186][doi:10.48550/arXiv.2411.07186]] and [[http://huggingface.co/EarthSpeciesProject/NatureLM-audio][model]]
+ [[https://github.com/earthspecies/biodenoising][earthspecies/biodenoising]]

Requires

+ [ ] huggingface account
+ [ ] naturelm-audio network
+ [ ] [[https://huggingface.co/meta-llama/Llama-3.1-8B-Instruct][ollama 3.1 8B]] (and signing stupid privacy policy)

... mainly does inference (damit)

*** Pipewire

+ [ ] Multiple instanced samplers
+ [ ] feed MIDI as parameter to samplers
+ [ ] MIDI ⟶ LLM params
+ [ ] Instantiate pipewire (sources)
+ [ ] Pipewire fan-in node
+ [ ] Wireplumber script to link:
  - sampler chain: sampler ⟶ reverb
  - soundboard: sampler chains ⇛ fan in ⟶ effect chain
  - output: soundboard ⟶ virtual output ⟶ OBS Input

* Model

#+name: naturelmConfig
#+begin_src shell :var cfg="inference.yml" :results output verbatim
curl https://raw.githubusercontent.com/earthspecies/NatureLM-audio/refs/heads/main/configs/$cfg
#+end_src

** Config

*** Inference

#+begin_src plantuml :file "img/nature-lm-inference.svg"  :noweb yes
@startyaml
<<naturelmConfig(cfg="inference.yml")>>
@endyaml
#+end_src

#+RESULTS:
[[file:img/nature-lm-inference.svg]]

*** Train Stage 1

ee

#+begin_src plantuml :file "img/nature-lm-train_stage1.svg"  :noweb yes
@startyaml
<<naturelmConfig(cfg="train_stage1.yml")>>
@endyaml
#+end_src

#+RESULTS:
[[file:img/nature-lm-train_stage1.svg]]

*** Train Stage 2

#+begin_src plantuml :file "img/nature-lm-train_stage2.svg"  :noweb yes
@startyaml
<<naturelmConfig(cfg="train_stage2.yml")>>
@endyaml
#+end_src

#+RESULTS:
[[file:img/nature-lm-train_stage2.svg]]
