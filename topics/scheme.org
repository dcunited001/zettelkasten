:PROPERTIES:
:ID:       87c43128-92c2-49ed-b76c-0d3c2d6182ec
:END:
#+title: Scheme

+ [[Guix]]

* Docs
+ [[https://www.gnu.org/software/guile/manual/html_node/index.html][Guile Reference]]
+ [[https://www.gnu.org/software/guile/manual/html_node/index.html][Guile Home]]

** GNU
- [[https://www.gnu.org/software/artanis/manual/artanis.pdf][Artanis]]

** Books
- R. Kent Dybvig: [[https://www.scheme.com/tspl4/][The Scheme Programming Language]]
- Abelson/Sussman: [[https://mitpress.mit.edu/sites/default/files/sicp/index.html][Structure & Interpretation of Computer Programs]]
- Steve Litt: [[https://www.troubleshooters.com/codecorn/scheme_guile/hello.htm][Scheme at a Glance]]

* Language

** Basics

** [[https://www.gnu.org/software/guile/manual/html_node/Data-Types.html][Data Types]] (guile)
*** [[https://www.gnu.org/software/guile/manual/html_node/Lists.html][Lists]]

** Async
+ Promises ([[https://www.gnu.org/software/guile/manual/html_node/Delayed-Evaluation.html][Delayed Evaluation]])
  - delay, promise?, force

** SRFI
+ srfi-171 [[https://www.gnu.org/software/guile/manual/html_node/SRFI_002d171.html][Transducers]]
+ srfi-41 [[https://www.gnu.org/software/guile/manual/html_node/Streams.html][Streams]]
+ srfi-37 [[https://www.gnu.org/software/guile/manual/html_node/SRFI_002d37.html][args-fold]]: =getopt_long= program arguments
  - used in guix scripts to parse arguments

* Resources

** Guides
+ [[https://www.draketo.de/proj/py2guile/py2guile.pdf][Going from Python to Guile Scheme]]
+ [[https://wiki.call-cc.org/chicken-for-ruby-programmers][Chicken for Ruby Programmers]]
+ [[https://notabug.org/ZelphirKaltstahl/awesome-guile][ZelphirKaltstahl/awesome-guile]]
+ [[https://gitlab.com/Marie-Joseph/scheme-primer/-/blob/main/scheme-primer.org][spritely/scheme-primer]] (from [[https://spritely.institute/static/papers/scheme-primer.html][here]])
+ [[https://www.bcl.hamilton.ie/~barak/teach/S99/CS257/texts.html][CS 257: Texts, Docs, Scheme Impl and Related Material]]


** Study
+ [[github:flatwhatson/advent-2020][flatwhatson/advent-2020]]
+ [[https://htdp.org/][htdp.org]]

* Ecosystem
** Libraries
*** [[https://spritely.institute/goblins/][Goblins]] (distributed objects)
A [[https://spritely.institute/][Spritely]] implementation for Guile -- like Ruby's [[https://github.com/ruby/drb][DRB]], but in Lisp-1

*** GnuTLS
+ It has a [[https://gnutls.gitlab.io/coverage/master/cyclo.html][cyclomatic complexity report]] generated by [[https://github.com/datacom-teracom/pmccabe][pmccabe]]
  - [[https://github.com/rofl0r/gnulib/blob/master/modules/pmccabe2html][pmccabe2html]]
  - GNU also has [[https://www.gnu.org/software/complexity/manual/][Complexity]]

* Topics
** DSL's
+ [[Embedding Scheme for a game mission scripting DSL][Embedding Scheme for a Game Mission Scripting DSL]]
+ [[https://github.com/JianyuanXiao/PSCMC][JianyuanXiao/PSCMC]]: a DSL for graphics shaders based on Scheme.

** Parsing/Lexing
+ [[https://www.ccs.neu.edu/home/shivers/papers/scmparse.pdf][Lexer and Parser Generators in Scheme]]

** Extending GNU applications With Scheme
+ gEDA
+ Gimp
  - [[https://technote.fyi/programming/the-gimp/become-a-gimp-script-fu-master-with-guile-aka-scheme/][Become a Gimp Script-Fu Master: with Guile (aka Scheme)]]

* Issues
** Guix/Geiser
*** Guix source needs to be compiled
Geiser will try to compile it, but this should be done manually

Follow the directions here to build: [[id:c610536e-71d8-45ad-b320-91696ee56d49][Guix: authenticate local checkout when
using google repo]]

Running =repo sync= will invalidate the relationships b/w compiled guile and the
source. It may cause other problems.

*** Geiser Xref doesn't function well inside guix profile with links

When Geiser's =%load-path= is something like the following, then

#+begin_example scheme
'("/gnu/store/hp4zdsbw2yl09vxwdk51g9gdcghnm4b6-emacs-geiser-guile-0.28.1/share/emacs/site-lisp/geiser-guile-0.28.1/src"
"/data/ecto/guix/guix"
"/home/dc/.guix-profile/share/guile/site/3.0..."
"...")
#+end_example

Then the list can be popped with ... nevermind, that should prioritize Guile
modules/functions to be located in =/data/ecto/guix/guix=, which can be modified
and recompiled ... I think?

This isn't ideal. For each module in =/data/ecto/guix/guix=, the same module is
defined elsewhere along the =%load-path=. It should be jumping to the source in
that directory, but usually jumps to =$HOME/.config/guix/current=.


** Language
*** Modules

How to filter exports:

#+begin_src scheme
(use-modules ((ice-9 popen)
              #:select ((foo . foo-as-foo2) bar baz)
              #:prefix howtofilterexports:))
#+end_src

*** Features

+ [[https://stackoverflow.com/questions/15892214/scheme-overload-built-in-procedures-general-overloading][Overloading methods]] (s/o)
