:PROPERTIES:
:ID:       e2b80b87-a52c-4bc7-8132-8e391e3bce3a
:END:
#+TITLE:     Steam
#+AUTHOR:    David Conner
#+EMAIL:     noreply@te.xel.io
#+DESCRIPTION: notes



* Docs
+ [[github:ValveSoftware/Proton][Proton Github]]

* Resources
** Tweaking
+ Mesa [[https://github.com/mesa3d/mesa/blob/main/docs/envvars.rst][Environment Variables]]
+ Steam [[https://gitlab.steamos.cloud/steamrt/steam-runtime-tools/-/blob/03d00bbce1d43089bedd5e22a52cf56810ab4d4e/docs/steam-compat-tool-interface.md#user-content-environment][Environment Variables]] (is there a better ref?)
  - 2018: [[https://www.ctrl.blog/entry/flatpak-steamcloud-xdg.html][Flatpak, Steam Cloud, XDG & why Linux doesnâ€™t sync progress]]
    - probably resolved
+ Valve [[https://developer.valvesoftware.com/wiki/Command_Line_Options][Command Line Wiki]]

** Tools
+ ProtonupQT install/manage extra versions of Proton
+ [[github:Matoking/protontricks][Matoking/protontricks]]
+ Steam [[https://developer.valvesoftware.com/wiki/Developer_Console][Developer Console]]
  - Source [[https://developer.valvesoftware.com/wiki/Category:Source_SDK_FAQ][FAQ]]

* Troubleshooting

Running Garuda from within a Proxmox VM.

+ ProtonDB: Improving Performance

** Defaults For Launching Proton

*** Vulkan

*Always* prefer vulkan where possible.

*** Mesa ACO

Set =RADV_PERFTEST=aco= to benefit from ACO.

+ You *always* want pre-compiled/cached shaders.
+ DXVK cache is not related to the ACO cache

#+begin_quote
NOTE: ACO is now included in the standard mesa package.
#+end_quote

Run =yay -Syu mesa-aco-git= to ensure that your version of Mesa includes ACO for
shader caching.


*** DXVK Async

***** TODO figureout whether applying this patch is still necessary (alot of people use it)

*** ESYNC/FSYNC

+ *Always* prefer fsync where possible
+ Force with =

***** TODO ensure this is compatible with current CPU config for Proxmox VM

*** Gamemoded

Ensure =gamemoderun %command%= is included in the launch flags

+ =yay -Syu gamemoded= if running non-gaming Garuda.


** Logging

** Fixes

*** Shader Caching

=yay -Syu mesa-aco-git=

*** Feral Gamemode

=yay -Syu gamemode lib32-gamemode=

***

** Protontricks
xx
