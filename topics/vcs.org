:PROPERTIES:
:ID:       53fc747a-3f12-411a-976a-345bb1924e2d
:END:
#+TITLE: VCS Version Control
#+AUTHOR:    David Conner
#+EMAIL:     noreply@te.xel.io
#+DESCRIPTION: notes

* Repo

** Docs

** Resources
+ Subcommands

** Issues
*** Management

**** List all projects tagged as $group

#+begin_src shell
repo list -g $group
#+end_src

**** Stash and unstash

#+begin_src shell
repo forall -c git stash
# ... run some commands like repo sync
repo forall -c git stash pop
#+end_src

**** Create Iterate Through A Group's Project's and Link

#+begin_src shell
cd /data/ecto/emacs
repo_link_groups emacs
#+end_src

#+RESULTS:
| BonfaceKilz_emacs              |
| BonfaceKilz/emacs              |
| Brettm12345_emacs              |
| Brettm12345/emacs              |
| abo-abo_emacs                  |
| abo-abo/emacs                  |
| bamos_dotfiles                 |
| bamos/dotfiles                 |
| bbatsov_emacs                  |
| bbatsov/emacs                  |
| benmezger_dotfiles             |
| benmezger/dotfiles             |
| cjbassi_dotfiles               |
| cjbassi/dotfiles               |
| daedreth_emacs                 |
| daedreth/emacs                 |
| daviwil_emacs                  |
| daviwil/emacs                  |
| dcunited001_doom               |
| dcunited001/doom               |
| dcunited001_dotfiles           |
| dcunited001/dotfiles           |
| dfeich_emacs-course            |
| dfeich/emacs-course            |
| dfeich_emacs-course-and-config |
| dfeich/emacs-course-and-config |
| dfeich_org-babel-examples      |
| dfeich/org-babel-examples      |
| frap_emacs                     |
| frap/emacs                     |
| gtrunsec_dotfiles              |
| gtrunsec/dotfiles              |
| joseph8th_emacs                |
| joseph8th/emacs                |
| karthink_emacs                 |
| karthink/emacs                 |
| kitnil_dotfiles                |
| kitnil/dotfiles                |
| kubemacs_emacs                 |
| kubemacs/emacs                 |
| lccambiaghi_emacs              |
| lccambiaghi/emacs              |
| magnars_emacs                  |
| magnars/emacs                  |
| mwfogleman_emacs               |
| mwfogleman/emacs               |
| purcell_emacs                  |
| purcell/emacs                  |
| rasendubi_emacs                |
| rasendubi/emacs                |
| sachac_emacs                   |
| sachac/emacs                   |
| tammymakesthings_emacs         |
| tammymakesthings/emacs         |
| tuhdo_emacs                    |
| tuhdo/emacs                    |
| ubolonton_emacs                |
| ubolonton/emacs                |
| zamansky_emacs                 |
| zamansky/emacs                 |


* Gerrit

+ [[https://github.com/orgs/GerritCodeReview][Github]] (clone)

** Docs

** Resources
+ Gerrit uses a [[https://gerrit-review.googlesource.com/Documentation/note-db.html][NoteDb]] backend

** Issues
*** Authenticate via SSH on googlesource.com

Setup account on [[gerrit.googlesource.com][gerrit.googlesource.com]] by authenticating with
=.gitcookies=. Must be capable of authenticating to clone,

+ Then check out =refs/users/self= branch by refspec. A bit tricky. Then update
  =authorized_keys= and push with cookie auth.
+ The order of the keys in your file matters. If you lose a key, comment the
  line, but the line numbers must match exactly.Add keys one at a time (you
  never know how it works on the backend)
+ Then configure your =~/.ssh/config= and include the port =29418=. Then update
  the remote URL. Then attempt to fetch/pull again.
+ Then realize that Google probably doesn't open SSH authentication and if it
  does, then ... i donno how to escape the email address, which doesn't feel
  right for an ssh username.

  I just really don't like HTTPS or file-based auth for git repos. I need a copy
  of repo in [[https://github.com/ectorepo/ectorepo][ectorepo/ectorepo]] to reuse the python code to merge XMLs, since
  =guix search= doesn't show any lightweight XML tools besides =python-genshin=.

  There's also =yq= -- barf, it's xml-to-json-to-xml and that means python pulls
  in lots of deps and shit why not node.js too (who knows). Anyways, git-repo
  doesn't work too good inside of repo, so it can't just have a manifest: it
  needs gitmodules.

  But yeh, I went down the GML rabbit hole again lol.

* Git

** Docs

** Resources

+ [[https://www.cs.cmu.edu/~15131/f15/topics/git/][Practical Ideas for Git]] (CMU)
+ [[A Hacker's Guide to Git][A Hacker's Guide to Git]]

** Issues
+ [[https://stackoverflow.com/a/9322283][Hard links inside git]]
  - there be problems. it's probably not worth it
  - I lost some content ... or rather it diverged
  - this seems doubly bad if inside a Syncthing share

* Fossil
