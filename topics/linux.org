:PROPERTIES:
:ID:       bdae77b1-d9f0-4d3a-a2fb-2ecdab5fd531
:END:
#+title: Linux

+ [[id:90c681e3-7748-4039-abf1-69755e14c918][selinux]]

* Docs

** [[https://www.kernel.org/doc/html/latest/kbuild/index.html][Builds]]
+ [[https://www.kernel.org/doc/html/latest/kbuild/kconfig-language.html][Kconfig]] language
+ [[https://www.kernel.org/doc/html/latest/kbuild/index.html][Kbuild]] kernel build system

** Wikipedia
+ Linux [[https://en.wikipedia.org/wiki/Category:WikiProject_Linux][WikiProject]]
+ [[https://en.wikipedia.org/wiki/Wikipedia:WikiProject_Desktop_Linux][Desktop Linux]] page (not linux from their main page)
+ Linux [[https://en.wikipedia.org/wiki/Wikipedia:WikiProject_Linux][WikiProject Category]]

* Resources

** LCFS Cheatsheets
+ [[https://cheatography.com/nhatlong0605/][cheatography.com/nhatlong0605]] broad set of cheatsheets, mostly for
  Centos/RPM/SystemD, but also with documentation of:
  - traditional services (Postfix/IMAP, Squid, NFS/Samba)
  - traditional process/job management
  - syslog
  - LMV/disk management

* Kernel

** Builds

** Testing
*** kselftest
*** kunit

** Optimizations

** Extracting Information

*** Diffing Kernel Configs
+ [[https://www.youtube.com/watch?v=d9e5rI-OCWU][Comparing configs for Linux, Linux-Zen and Linux-Hardened kernel using diff]]

** Flavors

*** Zen Kernel

* Subsystems

+ [[https://docs.kernel.org/subsystem-apis.html][Docs]] for Linux Subsystem API

There are 5 core subsystems ([[https://eng.libretexts.org/Bookshelves/Computer_Science/Operating_Systems/Linux_-_The_Penguin_Marches_On_(McClanahan)/06%3A_Kernel_Module_Management/1.03%3A_Linux_Kernel_Subsystem][source]]), but system functions usually involve
several of them.

** Process Scheduler

** Memory Management Unit (MMU)
+ zwap/zram go here

** Virtual File System (VFS)

** Networking Unit

** Inter-Process Communication (IPC) Unit

** udev
+ what subsystem?
+ [[https://opensource.com/article/18/11/udev][Intro to scripting udev]]


* Topics

** swap/zswap/zram
+ comparison of [[https://gist.github.com/TBog/9b8b8dc4d77f535c3ebf7bbdc9389cfe][configs for zswap/zram]]


* Package Managers

** RPM OS Tree
*** Docs
+ [[https://coreos.github.io/rpm-ostree/compose-server][Compose Server]]
*** Issues
+ Setting up services to run in an image
  - uses the =units= key in =treefile.yml=
  - or uses the =systemd.units= key in a Butane conf file
+ Writing an image


* Unix
:PROPERTIES:
:ID:       bdae77b1-d9f0-4d3a-a2fb-2ecdab5fdcba
:END:

** Docs

** Resources

** IPC/Sockets/Signals
+ [[https://opensource.com/article/19/4/interprocess-communication-linux-networking][IPC in Linux: Sockets & Signals]]
+ Linux fuser command
+ Socket Forwarding Over SSH
  - from [[https://medium.com/@dperny/forwarding-the-docker-socket-over-ssh-e6567cfab160][Forwarding Docker Socket via SSH Tunnel]]
  - also: [[https://blog.ruanbekker.com/blog/2018/04/30/forwarding-the-docker-socket-via-a-ssh-tunnel-to-execute-docker-commands-locally/][forwarding docker socket (to exec docker cmd locally)]]
  - Since [[https://lwn.net/Articles/609321/][OpenSSH 6.7]]

*** Remoting
+ ZeroTier/Yggdrasil
  - or Meshnet or Tor
+ VPN over SSH
+ Proxy Server or Reverse Proxy
+ SSH-D + Bind + Socks
  - One way to avoid agent forwarding

*** Socat Tunnelling
+ [[https://www.cyberciti.biz/faq/linux-unix-tcp-port-forwarding/][SOcket CAT]]
+ Tunneling w/ =socat= is an option (to avoid SSH agent forwarding)

From [[https://blog.travismclarke.com/post/socat-tutorial/][Socat Cheatsheet]]

#+begin_example shell
# Server
socat TCP-LISTEN:54321\
,reuseaddr\
,fork \
TCP:remote.server.com:22

# Client
ssh root@localhost -p 54321
#+end_example

*** Dante/Stunnel

+ [[https://hamy.io/post/0014/setting-up-an-encrypted-socks-proxy-using-dante-and-stunnel/][Setting up an encrypted SOCKS proxy using Dante and stunnel]]
+ [[https://hamy.io/post/0011/how-to-run-stunnel-on-your-android-device/][Stunnel on android devices]]

* Misc

** Literature

*** [[https://en.wikipedia.org/wiki/Cupid_and_Psyche][Love & Psyche]] - Apuleius

+ Originially from [[https://en.wikipedia.org/wiki/Cupid_and_Psyche][The Golden Ass]]
+ [[https://www.classics.ox.ac.uk/love-and-soul-apuleius-tale-cupid-and-psyche-european-culture-1600][Cupid & Psyche's influence]] on European narrative structures (narremes)
