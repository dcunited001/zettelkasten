:PROPERTIES:
:ID:       03d6068d-0f88-44f3-8133-b6ee87cbf155
:END:
#+TITLE: Linux: Customize Mouse Memory
#+CATEGORY: slips
#+TAGS:

* Roam

* Logitech G503

Holy shit this is confusing

#+begin_quote
Note to future self... it's also VERY WRONG
#+end_quote

|--------+-------+-----+---------+---------------+-------------+-----------------|
| ratbag | mouse | wev | wevdesc | emacs         | desc        |                 |
|--------+-------+-----+---------+---------------+-------------+-----------------|
|      0 |       | 272 |         | mouse-1       | Left        |                 |
|      1 |       | 273 |         | mouse-2       | Center      |                 |
|      2 |       | 274 |         | mouse-3       | Right       |                 |
|      3 |       |     |         | mwheel-scroll | Wheel Up    | mouse-4 (emacs) |
|      4 |       |     |         | mwheel-scroll | Wheel Down  | mouse-5 (emacs) |
|      5 |       | 276 |         |               | Fwd         |                 |
|      6 |       |     |         |               |             |                 |
|      7 |       |     |         | mouse-12      |             |                 |
|      8 |       | 280 | unknown | mouse-13      |             |                 |
|      9 |       |     |         | mwheel-scroll | Wheel Right | mouse-6 (emacs) |
|     10 |       |     |         | mwheel-scroll | Wheel Left  | mouse-7 (emacs) |

Back
275 side
276 extra

mouse-14
mouse-15


+ mapping =piper='s reported function for =g502='s button id =n=
  - to =ratbag='s button id =n-1=

** Dumping Profiles

#+name: mouse-name
#+begin_src emacs-lisp :results value
"singing-gundi"
#+end_src

#+name: ratbag-profile-buttons
#+begin_src sh :results output table :var mouse=mouse-name p=0
ratbagctl $mouse profile $p get \
    | grep -e "^Button:" \
    | sed -E "s/Button: ([0-9]+) is mapped to '(.*)'$/\1	\2/g" \
    | tr ' ' '-' | tr '	' ' '

# requires tab ...
#+end_src

** Identity Mapping

Buttons from 1 to 11, in order.

+ 275-279 :: button indices from the back to the front, in order (more/less)
+ 280-282 :: profile change button and wheel left/right

| ratbag-id | ratbag-desc | wev-scancode | wev-desc | mouse-physical | chrome          |
|-----------+-------------+--------------+----------+----------------+-----------------|
|         0 | button-1    |          272 | left     |                |                 |
|         1 | button-2    |          .73 | right    |                |                 |
|         2 | button-3    |          .74 | middle   |                | GRAB/SCROLL PDF |
|         3 | button-4    |          .75 | side     | lower forward  | BACK            |
|         4 | button-5    |          .76 | extra    | lower back     | FWD             |
|         5 | button-6    |          .77 | forward  | thumb          | n/a             |
|         6 | button-7    |          .78 | back     | upper forward  | BACK (x2)       |
|         7 | button-8    |          .79 | task     | upper back     | n/a             |
|         8 | button-9    |          280 | unknown  | profile change | n/a             |
|         9 | button-10   |          .81 | unknown  | wheel left     | n/a             |
|        10 | button-11   |          282 | unknown  | wheel right    | n/a             |

I had the vertical mouse wheel events confused for button bindings. Emacs docs
describe how this is handled by various platforms. The mouse can't remap those.

The arrows in the diagram don't relieve the confusion. Logitech is not much help
(afaik) on technical documentation "... scan code? customer no care scan code.
no, only code scan, checkout, pay cash or credit. look RGB! color!"

[[./img/singing-gundi.png]]

* 2025

** Profile 0

#+name: ratbag-2025-profile-0
#+call: ratbag-profile-buttons(p=0)

#+RESULTS: ratbag-2025-profile-0
|  0 | button-1    |
|  1 | button-2    |
|  2 | button-3    |
|  3 | button-4    |
|  4 | button-5    |
|  5 | button-9    |
|  6 | button-10   |
|  7 | button-11   |
|  8 | button-8    |
|  9 | wheel-right |
| 10 | wheel-left  |


** Profile 1

#+name: ratbag-2025-profile-1
#+call: ratbag-profile-buttons(p=1)

#+RESULTS: ratbag-2025-profile-1
| 0                                                                                                     | button-1 |
| 1                                                                                                     | button-2 |
| Button:-2-is-mapped-to-macro-'↓KEY_RIGHTCTRL-↕KEY_A-↑KEY_RIGHTCTRL'                                 |          |
| 3                                                                                                     | button-4 |
| 4                                                                                                     | button-5 |
| 5                                                                                                     | button-9 |
| Button:-6-is-mapped-to-macro-'↕KEY_TAB'                                                             |          |
| Button:-7-is-mapped-to-macro-'↓KEY_LEFTMETA-↕KEY_TAB-↑KEY_LEFTMETA'                                 |          |
| Button:-8-is-mapped-to-macro-'↓KEY_LEFTSHIFT-↓KEY_LEFTMETA-↕KEY_SYSRQ-↑KEY_LEFTSHIFT-↑KEY_LEFTMETA' |          |
| Button:-9-is-mapped-to-macro-'↓KEY_RIGHTCTRL-↕KEY_V-↑KEY_RIGHTCTRL'                                 |          |
| Button:-10-is-mapped-to-macro-'↓KEY_RIGHTCTRL-↕KEY_X-↑KEY_RIGHTCTRL'                                |          |

** Profile 2

#+name: ratbag-2025-profile-2
#+call: ratbag-profile-buttons(p=2)

#+RESULTS: ratbag-2025-profile-2
|  0 | button-1    |
|  1 | button-2    |
|  2 | button-3    |
|  3 | button-4    |
|  4 | button-5    |
|  5 | button-9    |
|  6 | button-10   |
|  7 | button-11   |
|  8 | button-8    |
|  9 | wheel-right |
| 10 | wheel-left  |

** Profile 3

#+name: ratbag-2025-profile-3
#+call: ratbag-profile-buttons(p=3)

#+RESULTS: ratbag-2025-profile-3
|  0 | button-1  |
|  1 | button-2  |
|  2 | button-3  |
|  3 | button-4  |
|  4 | button-5  |
|  5 | button-6  |
|  6 | button-7  |
|  7 | button-8  |
|  8 | button-9  |
|  9 | button-10 |
| 10 | button-11 |

* Original
** Profile 0

#+name: ratbag-2024-profile-0
#+call: ratbag-profile-buttons(p=0)

#+RESULTS: ratbag-profile-0
|  0 | button-1             |
|  1 | button-2             |
|  2 | button-3             |
|  3 | button-4             |
|  4 | button-5             |
|  5 | resolution-alternate |
|  6 | resolution-down      |
|  7 | resolution-up        |
|  8 | profile-cycle-up     |
|  9 | wheel-right          |
| 10 | wheel-left           |

** Profile 1

#+name: ratbag-2024-profile-1
#+call: ratbag-profile-buttons(p=1)

#+RESULTS:
|  0 | button-1             |
|  1 | button-2             |
|  2 | button-3             |
|  3 | button-4             |
|  4 | button-5             |
|  5 | resolution-alternate |
|  6 | resolution-down      |
|  7 | resolution-up        |
|  8 | profile-cycle-up     |
|  9 | wheel-right          |
| 10 | wheel-left           |


** Profile 2

#+name: ratbag-2024-profile-2
#+call: ratbag-profile-buttons(p=2)

#+RESULTS:
|                                                                   0 | button-1         |
|                                                                   1 | button-2         |
|                                                                   2 | button-3         |
|                                                                   3 | button-4         |
|                                                                   4 | button-5         |
|                                                                   5 | second-mode      |
| Button:-6-is-mapped-to-macro-'↓KEY_LEFTCTRL-↕KEY_C-↑KEY_LEFTCTRL' |                  |
| Button:-7-is-mapped-to-macro-'↓KEY_LEFTCTRL-↕KEY_V-↑KEY_LEFTCTRL' |                  |
|                                                                   8 | profile-cycle-up |
|                                                                   9 | wheel-right      |
|                                                                  10 | wheel-left       |


** Profile 3

#+name: ratbag-2024-profile-3
#+call: ratbag-profile-buttons(p=3)

#+RESULTS:
|  0 | button-1             |
|  1 | button-2             |
|  2 | button-3             |
|  3 | button-4             |
|  4 | button-5             |
|  5 | resolution-alternate |
|  6 | resolution-down      |
|  7 | resolution-up        |
|  8 | profile-cycle-up     |
|  9 | wheel-right          |
| 10 | wheel-left           |
* Kensington Two Ball

Don't buy the kensington two-botton trackball.

+ You need four fucking buttons for those ..... NO BACK/FORWARD. /you need
  another mouse, do you?/
  - Sadly, I did not anticipate this.
+ You can only configure the buttons in Windows.
+ The drivers or software are super sketchy. For that trackball.. it's something
  like unsigned .msi, i can't remember.
+ I was planning on removing the plastic shell and printing a replacement.
+ Other models were way more supported. They skimped on the components because you
  didn't spend the extra $40 (I had $40 not $80).
  - The hardware is basically neutered (far less flashing capabilities, idk
    about NVRAM) ... I took it apart...
  - And i'm guessing the distribution of intellectual property ownership has
    something to do with why there are almost ZERO products vendors besides
    Kensington. It's likely their pricing for licenses, given the end-consumer
    pricing, product lines and absence of competition. (just a guess)
  - That's a bit sad, i guess.
+ The $40 model is only symmetric on the x-axis. The $80 model is symmetric on
  X/Y-axes. You /could/ rotate it, but the =libinput= options for remapping
  trackballs are far more limited than for mouse/touchpad.
  - I thought about making the one or two lines of changes to be required. IIRC,
    it /can/ be done at =udev= without patching =libinput= ... but you're going to
    want a reproducible configuration to go through that effort

The four-button model was highly recommended. The two-button was cautioned
against but for me, it was a risky buy. I was trying to break the mouse habit
I've accumulated since not having a tiling WM on my desktop.

